## [2622. 시간 제한 캐시](https://leetcode.com/problems/cache-with-time-limit)

### 중간

---

키-값 쌍을 설정하고 가져올 수 있는 클래스를 작성하세요. 그러나 각 키와 함께 만료 시간까지 시간이 연관되어 있습니다.

이 클래스에는 세 가지 공개 메서드가 있습니다:

**set(key, value, duration)**: 정수 `key`, 정수 `value`, 그리고 `duration`을 밀리초 단위로 받아들입니다. 지정된 시간이 경과하면 키에 접근할 수 없어야 합니다. 기존에 만료되지 않은 동일한 키가 이미 존재하면 `true`를 반환하고, 그렇지 않으면 `false`를 반환해야 합니다. 키가 이미 존재하면 값과 지속시간은 덮어써야 합니다.

**get(key)**: 만료되지 않은 키가 존재하면 연관된 값을 반환해야 합니다. 그렇지 않으면 `-1`을 반환해야 합니다.

**count()**: 만료되지 않은 키의 수를 반환합니다.

&nbsp;

**예제 1:**

```
입력:
actions = ["TimeLimitedCache", "set", "get", "count", "get"]
values = [[], [1, 42, 100], [1], [], [1]]
timeDelays = [0, 0, 50, 50, 150]
출력: [null, false, 42, 1, -1]
설명:
t=0에서, 캐시가 생성됩니다.
t=0에서, 키-값 쌍 (1: 42)이 100ms의 시간 제한과 함께 추가됩니다. 값이 존재하지 않으므로 false가 반환됩니다.
t=50에서, key=1이 요청되어 값 42가 반환됩니다.
t=50에서, count()가 호출되며 캐시에 하나의 활성 키가 있습니다.
t=100에서, key=1 만료됩니다.
t=150에서, get(1)이 호출되지만 캐시가 비어 있으므로 -1이 반환됩니다.
```

**예제 2:**

```
입력:
actions = ["TimeLimitedCache", "set", "set", "get", "get", "get", "count"]
values = [[], [1, 42, 50], [1, 50, 100], [1], [1], [1], []]
timeDelays = [0, 0, 40, 50, 120, 200, 250]
출력: [null, false, true, 50, 50, -1, 0]
설명:
t=0에서, 캐시가 생성됩니다.
t=0에서, 키-값 쌍 (1: 42)이 50ms의 시간 제한과 함께 추가됩니다. 값이 존재하지 않으므로 false가 반환됩니다.
t=40에서, 키-값 쌍 (1: 50)이 100ms의 시간 제한과 함께 추가됩니다. 만료되지 않은 값이 이미 존재하므로 true가 반환되고, 이전 값은 덮어써집니다.
t=50에서, get(1)이 호출되어 50이 반환됩니다.
t=120에서, get(1)이 호출되어 50이 반환됩니다.
t=140에서, key=1 만료됩니다.
t=200에서, get(1)이 호출되지만 캐시가 비어 있으므로 -1이 반환됩니다.
t=250에서, count()가 호출되며 캐시가 비어 있으므로 0이 반환됩니다.
```

&nbsp;

**제약 사항:**

- `0 <= key, value <= 10^9`
- `0 <= duration <= 1000`
- `1 <= actions.length <= 100`
- `actions.length === values.length`
- `actions.length === timeDelays.length`
- `0 <= timeDelays[i] <= 1450`
- `actions[i]`는 `"TimeLimitedCache"`, `"set"`, `"get"`, `"count"` 중 하나입니다.
- 첫 번째 action은 항상 `"TimeLimitedCache"`이며, 0밀리초 지연으로 즉시 실행되어야 합니다.